{"version":3,"sources":["webpack:///webpack/bootstrap cbf44efff00a35440090","webpack:///./src/crmApp.js","webpack:///./src/common/crmEntity.js"],"names":[],"mappings":"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","file":"crmApp.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/assets/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap cbf44efff00a35440090\n **/","import { crmEntity, crmAttr } from './common/crmEntity.js';\r\nexport class crmContext {\r\n    constructor(Xrm) {\r\n        this.Xrm = Xrm;\r\n    }\r\n    attr(name) {\r\n        return new crmAttr(this.Xrm, name);\r\n    }\r\n    get entity() {\r\n        return new crmEntity(this.Xrm)\r\n    }\r\n}\r\nwindow.crmContext = crmContext;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/crmApp.js\n **/","    export class crmAttr {\r\n        constructor(Xrm, name) {\r\n            if (!Xrm || !name) {\r\n                return;\r\n            }\r\n            this.name = name;\r\n            this.attrname = Xrm.Page.getAttribute(name);\r\n            this.contname = Xrm.Page.getControl(name);\r\n            this.crmEntity = new crmEntity(Xrm);\r\n            if (!this.contname) {\r\n                this.contname = Xrm.Page.ui.tabs.get(name);\r\n            }\r\n            if (!this.attrname && !this.contname) {\r\n                this.error('not found ' + this.name);\r\n            }\r\n        }\r\n        //获取字段值 crm方法\r\n        getValue() {\r\n            const getval = this.attrname.getValue();\r\n            return getval;\r\n        }\r\n        //获取字段值 Lookup返回第一个值\r\n        get() {\r\n            if (!this.attrname) {\r\n                return this;\r\n            }\r\n            const getval = this.attrname.getValue();\r\n            if (Array.isArray(getval)) {\r\n                return getval.length > 0 ? getval[0] : {}\r\n            }\r\n            return getval;\r\n        }\r\n        //设置和获取值  lookup获取Id\r\n        val(v) {\r\n            let obj = null;\r\n            if (!this.attrname) {\r\n                return this;\r\n            }\r\n            obj = this.attrname[arguments.length > 0 ? 'setValue' : 'getValue'](v);\r\n            if (Array.isArray(obj)) {\r\n                obj = obj[0].id;\r\n            }\r\n            if (arguments.length > 0) {\r\n                this.mode();\r\n            }\r\n            return arguments.length === 0 ? obj : this;\r\n        }\r\n        //显示\r\n        show() {\r\n            if (this.contname) {\r\n                this.contname.setVisible(!0);\r\n            }\r\n            return this;\r\n        }\r\n        //隐藏\r\n        hide() {\r\n            if (this.contname) {\r\n                this.contname.setVisible(!1);\r\n            }\r\n            return this;\r\n        }\r\n        //禁用\r\n        disabled() {\r\n            let disabled = 1;\r\n            if (this.contname) {\r\n                if (arguments[0] != undefined) {\r\n                    disabled = arguments[0];\r\n                }\r\n                this.contname.setDisabled(disabled);\r\n            }\r\n            return this;\r\n        }\r\n        //绑定或触发change\r\n        change(c, a) {\r\n            if (this.attrname) {\r\n                if (typeof(c) == 'function') {\r\n                    this.attrname.addOnChange(c, false);\r\n                    a && this.attrname.fireOnChange();\r\n                } else if (arguments.length === 0) {\r\n                    this.attrname.fireOnChange();\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n        //移除change方法\r\n        removechange(a) {\r\n            if (this.attrname) {\r\n                this.attrname.removeOnChange(a);\r\n            }\r\n            return this;\r\n        }\r\n        //字段必填\r\n        required(a) {\r\n            if (this.attrname) {\r\n                this.attrname.setRequiredLevel(a ? 'required' : 'none');\r\n            }\r\n            return this;\r\n        }\r\n        //提交模式 默认设置成always, 对字段赋值会调用\r\n        mode(m) {\r\n            if (this.attrname) {\r\n                let modestr = 'always';\r\n                switch (m) {\r\n                    case 1:\r\n                        modestr = 'always';\r\n                        break;\r\n                    case 0:\r\n                        modestr = 'never';\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n                this.attrname.setSubmitMode(modestr);\r\n            }\r\n            return this;\r\n        }\r\n        // 默认值\r\n        default (val) {\r\n            if (this.crmEntity.type == 1) {\r\n                this.val(val);\r\n            }\r\n            return this;\r\n        }\r\n        //Lookup字段设置当前登录人\r\n        user() {\r\n            if (this.attrname) {\r\n                let toValue = {};\r\n                toValue.id = this.crmEntity.userid;\r\n                toValue.entityType = 'systemuser';\r\n                toValue.name = this.crmEntity.username;\r\n                this.val([toValue]);\r\n            }\r\n            return this;\r\n        }\r\n        //清除字段\r\n        clear() {\r\n            if (this.attrname) {\r\n                this.val(null);\r\n            }\r\n            return this;\r\n        }\r\n        //设置焦点\r\n        focus() {\r\n            if (this.contname) {\r\n                this.contname.setFocus();\r\n            }\r\n            return this;\r\n        }\r\n        // 当前提示类型判断\r\n        type(type) {\r\n            return new Promise(function(resolve, reject) {\r\n                this.crmEntity.type == type ? resolve(this) : reject(this);\r\n            });\r\n        }\r\n        error(message) {\r\n            window.console.error(message);\r\n        }\r\n        //保存\r\n        save() {\r\n            return this.crmEntity.save();\r\n        }\r\n    }\r\n    export class crmEntity {\r\n        constructor(Xrm) {\r\n            this.Xrm = Xrm;\r\n        }\r\n        //获取实体Id 属性\r\n        get id() {\r\n            return this.Xrm.Page.data.entity.getId();\r\n        }\r\n        //获取实体name 属性\r\n        get name() {\r\n            return this.Xrm.Page.data.entity.getEntityName();\r\n        }\r\n        //获取实体类型 属性\r\n        get type() {\r\n            return this.Xrm.Page.ui.getFormType();\r\n        }\r\n        //获取登录人id  属性\r\n        get userid() {\r\n            return this.Xrm.Page.context.getUserId();\r\n        }\r\n        //获取登录人name 属性\r\n        get username() {\r\n            return this.Xrm.Page.context.getUserName();\r\n        }\r\n        //判断是否是当前登录人 属性\r\n        isowner() {\r\n            return this.userid == new crmAttr(this.Xrm, 'ownerid').val();\r\n        }\r\n        //保存\r\n        save() {\r\n            return this.Xrm.Page.data.save();\r\n        }\r\n        //刷新按钮\r\n        refRibbon() {\r\n            return this.Xrm.Page.ui.refreshRibbon();\r\n        }\r\n        //刷新实体\r\n        refresh() {\r\n            this.Xrm.Page.data.refresh()\r\n            //this.Xrm.Utility.openEntityForm(this.Xrm.Page.data.entity.getEntityName(), this.Xrm.Page.data.entity.getId())\r\n        }\r\n        //禁用或启用窗体所有字段\r\n        disabledAll(state) {\r\n            this.Controls(this.Xrm.Page.ui.controls, 'disabled', state);\r\n        }\r\n        //禁用或启用\r\n        disabled(arr, state) {\r\n            this.Tabs(arr, 'disabled', state)\r\n        }\r\n        //显示\r\n        show(arr) {\r\n            this.Tabs(arr, 'show')\r\n        }\r\n        //隐藏\r\n        hide(arr) {\r\n            this.Tabs(arr, 'hide')\r\n        }\r\n        //是否没必填字段\r\n        isValid() {\r\n            return this.Xrm.Page.data.getIsValid();\r\n        }\r\n        //对tab下的字段控制\r\n        Tabs(arr, handle, state) {\r\n            const Xrm = this.Xrm;\r\n            let conArr = [].concat(arr)\r\n            arr.forEach((item) => {\r\n                let tab = Xrm.Page.ui.tabs.get(item);\r\n                if (tab) {\r\n                    const index = conArr.indexOf(item);\r\n                    index > -1 && conArr.splice(index, 1);\r\n                    if (handle === 'hide' || handle === 'show') {\r\n                        const disabled = (new crmAttr())[handle].bind({ contname: tab });\r\n                        disabled(state);\r\n                    } else {\r\n                        this.Sections(tab.sections.get(), handle, state)\r\n                    }\r\n                }\r\n            })\r\n            this.Sections(conArr, handle, state);\r\n        }\r\n        //对Sections下的字段控制\r\n        Sections(sections, handle, state) {\r\n            let conArr = [].concat(sections)\r\n            sections.forEach((section) => {\r\n                let sec = section;\r\n                if (typeof sec === 'string') {\r\n                    sec = this.getSections(section) || sec;\r\n                }\r\n                if (typeof sec !== 'string') {\r\n                    const index = conArr.indexOf(section);\r\n                    index > -1 && conArr.splice(index, 1);\r\n                    this.Controls(sec.controls.get(), handle, state);\r\n                }\r\n            })\r\n            this.Controls(conArr, handle, state);\r\n        }\r\n        Controls(controls, handle, state) {\r\n            controls.forEach((control) => {\r\n                if (typeof control == 'string') {\r\n                    (new crmAttr(this.Xrm, control))[handle](state);\r\n                } else {\r\n                    var controlType = control.getControlType();\r\n                    if (controlType != 'iframe' && controlType != 'webresource' && controlType != 'subgrid') {\r\n                        const disabled = (new crmAttr())[handle].bind({ contname: control });\r\n                        disabled(state);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        //获取节对象Sections\r\n        getSections(name) {\r\n            const tabs = this.Xrm.Page.ui.tabs.get();\r\n            for (let index in tabs) {\r\n                let tab = tabs[index];\r\n                const section = tab.sections.getFirst((section) => {\r\n                    return section.getName() == name;\r\n                })\r\n                if (section) {\r\n                    return section;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common/crmEntity.js\n **/"],"sourceRoot":""}